<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≠ ÏàòÎÖ∏Î¥áÏùò ÎßàÎ≤ï ÏùåÏïÖ Ïä§ÌÜ†Î¶¨ÌÖîÎü¨</title>
    <meta name="description" content="Ï¥àÎì±ÌïôÏÉùÏùÑ ÏúÑÌïú AI ÏùåÏïÖ Ï∞ΩÏûë ÎèÑÍµ¨ - ÎÇòÎßåÏùò ÏùåÏïÖÍ∑π ÎßåÎì§Í∏∞">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* Í∑∏ÎùºÎç∞Ïù¥ÏÖò Î∞∞Í≤Ω */
        .bg-main {
            background: linear-gradient(135deg, #67e8f9 0%, #a855f7 50%, #ec4899 100%);
            min-height: 100vh;
            position: relative;
        }
        
        .bg-result {
            background: linear-gradient(135deg, #fbbf24 0%, #a855f7 50%, #3b82f6 100%);
            min-height: 100vh;
            position: relative;
        }
        
        /* Ïï†ÎãàÎ©îÏù¥ÏÖò */
        @keyframes bounce {
            0%, 100% { transform: translateY(-25%); }
            50% { transform: translateY(0); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .animate-bounce { animation: bounce 1s infinite; }
        .animate-pulse { animation: pulse 2s infinite; }
        .animate-spin { animation: spin 1s linear infinite; }
        
        /* Î∞∞Í≤Ω Ïû•Ïãù */
        .bg-decoration {
            position: absolute;
            font-size: 4rem;
            pointer-events: none;
            z-index: 1;
        }
        
        .decoration-1 { top: 5%; left: 5%; animation: bounce 1s infinite; }
        .decoration-2 { top: 10%; right: 10%; animation: pulse 2s infinite; }
        .decoration-3 { bottom: 10%; left: 10%; animation: bounce 1s infinite 0.3s; }
        .decoration-4 { bottom: 5%; right: 5%; animation: pulse 2s infinite 0.5s; }
        
        /* Ïª®ÌÖåÏù¥ÎÑà */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            position: relative;
            z-index: 10;
        }
        
        /* Ïπ¥Îìú */
        .card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            border: 4px solid #fbbf24;
        }
        
        /* Ìó§Îçî */
        .header {
            background: linear-gradient(135deg, #8b5cf6, #ec4899, #ef4444);
            color: white;
            padding: 2rem;
            position: relative;
        }
        
        .header::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(168, 85, 247, 0.2), rgba(236, 72, 153, 0.2));
        }
        
        .header-content {
            position: relative;
            z-index: 10;
        }
        
        .title {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 900;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .subtitle {
            font-size: clamp(0.875rem, 2.5vw, 1.25rem);
            opacity: 0.9;
        }
        
        /* Î©îÏù∏ ÏΩòÌÖêÏ∏† */
        .main-content {
            padding: 2rem;
            background: linear-gradient(135deg, #dbeafe, #e0e7ff);
        }
        
        /* ÏßÑÌñâ Î∞î */
        .progress-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 2rem;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .progress-step {
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .progress-step.active {
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 10px 20px rgba(139, 92, 246, 0.3);
        }
        
        .progress-step.inactive {
            background: #e5e7eb;
            color: #6b7280;
        }
        
        .progress-line {
            width: 4rem;
            height: 0.5rem;
            border-radius: 0.25rem;
            transition: all 0.3s ease;
        }
        
        .progress-line.completed {
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
        }
        
        .progress-line.incomplete {
            background: #e5e7eb;
        }
        
        /* Îã®Í≥Ñ ÏÑ§Î™Ö */
        .step-description {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #fef3c7, #fed7aa);
            border-radius: 1rem;
            border: 4px solid #fbbf24;
        }
        
        .step-title {
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: bold;
            color: #7c2d12;
            margin-bottom: 0.5rem;
        }
        
        .step-desc {
            font-size: clamp(1rem, 2.5vw, 1.25rem);
            color: #92400e;
        }
        
        /* ÏÑ†ÌÉùÏßÄ Í∑∏Î¶¨Îìú */
        .choices-grid {
            display: grid;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .grid-characters {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
        
        .grid-settings {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
        
        .grid-conflicts {
            grid-template-columns: 1fr;
        }
        
        .grid-styles {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }
        
        /* ÏÑ†ÌÉùÏßÄ Ïπ¥Îìú */
        .choice-card {
            padding: 1.5rem;
            border: 3px solid #d1d5db;
            border-radius: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            text-align: center;
        }
        
        .choice-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border-color: #8b5cf6;
        }
        
        .choice-card.selected {
            border-color: #8b5cf6;
            color: white;
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 25px 50px rgba(139, 92, 246, 0.3);
        }
        
        .choice-emoji {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }
        
        .choice-name {
            font-size: 1.125rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .choice-desc {
            font-size: 0.875rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }
        
        .choice-extra {
            font-size: 0.75rem;
            background: rgba(255, 255, 255, 0.2);
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            display: inline-block;
        }
        
        /* ÎÇ¥ÎπÑÍ≤åÏù¥ÏÖò */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .nav-button {
            padding: 1rem 2rem;
            border: none;
            border-radius: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .nav-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .nav-button:disabled {
            background: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }
        
        .btn-prev {
            background: linear-gradient(135deg, #d1d5db, #9ca3af);
            color: #374151;
        }
        
        .btn-next {
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            color: white;
        }
        
        .btn-next:disabled {
            background: #e5e7eb;
            color: #9ca3af;
        }
        
        /* ÏßÑÌñâ ÏÉÅÌÉú */
        .progress-info {
            text-align: center;
            background: white;
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 2px solid #8b5cf6;
        }
        
        .progress-text {
            font-weight: bold;
            color: #8b5cf6;
            margin-bottom: 0.5rem;
        }
        
        .progress-stars {
            font-size: 1.5rem;
        }
        
        /* ÎèÑÏõÄÎßê */
        .help-text {
            margin-top: 2rem;
            text-align: center;
        }
        
        .help-card {
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            padding: 1.5rem;
            border-radius: 1rem;
            border: 4px solid #10b981;
            display: inline-block;
        }
        
        .help-title {
            color: #065f46;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .help-desc {
            color: #047857;
        }
        
        /* Í≤∞Í≥º ÌôîÎ©¥ */
        .result-container {
            padding: 2rem;
        }
        
        .language-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }
        
        .language-buttons {
            background: white;
            border-radius: 0.75rem;
            padding: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 2px solid #8b5cf6;
        }
        
        .language-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: transparent;
            color: #8b5cf6;
        }
        
        .language-btn.active {
            background: #8b5cf6;
            color: white;
            box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
        }
        
        /* Ïä§ÌÜ†Î¶¨ ÏöîÏïΩ */
        .story-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .summary-card {
            padding: 1rem;
            border-radius: 0.75rem;
            color: white;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .summary-card:hover {
            transform: translateY(-2px) scale(1.02);
        }
        
        /* Ïû•Î©¥ Ïπ¥Îìú */
        .scene-card {
            margin-bottom: 2rem;
            border: 4px solid transparent;
            border-radius: 1rem;
            padding: 1.5rem;
            color: white;
            transition: all 0.3s ease;
        }
        
        .scene-card:hover {
            transform: translateY(-4px) scale(1.02);
        }
        
        .scene-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .scene-title {
            font-size: clamp(1.125rem, 2.5vw, 1.5rem);
            font-weight: bold;
        }
        
        .scene-meta {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .scene-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .scene-description {
            margin-bottom: 1.5rem;
            font-size: clamp(0.875rem, 2vw, 1rem);
            opacity: 0.9;
        }
        
        .prompt-container {
            background: rgba(255, 255, 255, 0.2);
            padding: 1rem;
            border-radius: 0.75rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .prompt-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .prompt-text {
            background: white;
            color: #374151;
            padding: 1rem;
            border-radius: 0.5rem;
            border-left: 4px solid #fbbf24;
            font-family: monospace;
            font-size: 0.875rem;
            line-height: 1.6;
            word-break: break-word;
            margin-bottom: 1rem;
        }
        
        .prompt-actions {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }
        
        .action-button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.75rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }
        
        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        .btn-suno {
            background: linear-gradient(135deg, #10b981, #3b82f6);
            color: white;
        }
        
        .btn-copy {
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            color: white;
        }
        
        /* Î≥µÏÇ¨ ÏïåÎ¶º */
        .copy-alert {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            background: #10b981;
            color: white;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: bold;
            z-index: 1000;
            animation: bounce 1s infinite;
        }
        
        /* ÌåÅ ÏÑπÏÖò */
        .tips-section {
            margin-top: 2rem;
            background: linear-gradient(135deg, #fef3c7, #fde68a, #e0e7ff);
            padding: 1.5rem;
            border-radius: 1rem;
            border: 4px solid #fbbf24;
        }
        
        .tips-title {
            font-size: clamp(1.125rem, 2.5vw, 1.5rem);
            font-weight: bold;
            color: #92400e;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .tip-card {
            background: white;
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .tip-title {
            font-weight: bold;
            margin-bottom: 0.75rem;
            color: #b45309;
        }
        
        .tip-list {
            list-style: none;
            padding: 0;
        }
        
        .tip-list li {
            margin-bottom: 0.5rem;
            color: #374151;
            font-size: 0.875rem;
        }
        
        /* Î∞òÏùëÌòï */
        @media (max-width: 768px) {
            .container {
                padding: 0.5rem;
            }
            
            .main-content {
                padding: 1rem;
            }
            
            .header {
                padding: 1rem;
            }
            
            .progress-bar {
                gap: 0.5rem;
            }
            
            .progress-step {
                width: 2.5rem;
                height: 2.5rem;
                font-size: 1rem;
            }
            
            .progress-line {
                width: 2rem;
            }
            
            .navigation {
                justify-content: center;
            }
            
            .nav-button {
                flex: 1;
                justify-content: center;
                min-width: 0;
            }
            
            .scene-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .prompt-actions {
                flex-direction: column;
            }
            
            .action-button {
                justify-content: center;
            }
        }
        
        /* Ïà®ÍπÄ */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Î©îÏù∏ ÌôîÎ©¥ -->
    <div id="mainScreen" class="bg-main">
        <!-- Î∞∞Í≤Ω Ïû•Ïãù -->
        <div class="bg-decoration decoration-1">üåü</div>
        <div class="bg-decoration decoration-2">üé≠</div>
        <div class="bg-decoration decoration-3">üé™</div>
        <div class="bg-decoration decoration-4">üéµ</div>
        
        <div class="container">
            <div class="card">
                <div class="header">
                    <div class="header-content">
                        <h1 class="title">
                            <span>‚ú®</span>
                            <span>üé≠ ÏàòÎÖ∏Î¥áÏùò ÎßàÎ≤ï ÏùåÏïÖ Ïä§ÌÜ†Î¶¨ÌÖîÎü¨</span>
                            <span>üëë</span>
                        </h1>
                        <p class="subtitle">‚ú® ÎÇòÎßåÏùò ÌäπÎ≥ÑÌïú ÏùåÏïÖÍ∑πÏùÑ ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî! üé™</p>
                    </div>
                </div>
                
                <div class="main-content">
                    <!-- ÏßÑÌñâ Î∞î -->
                    <div class="progress-bar" id="progressBar">
                        <!-- JavaScriptÎ°ú ÏÉùÏÑ± -->
                    </div>
                    
                    <!-- Îã®Í≥Ñ ÏÑ§Î™Ö -->
                    <div class="step-description">
                        <h2 class="step-title" id="stepTitle">Ï£ºÏù∏Í≥µ ÏÑ†ÌÉùÌïòÍ∏∞</h2>
                        <p class="step-desc" id="stepDesc">Ïù¥ÏïºÍ∏∞Ïùò Ï£ºÏù∏Í≥µÏùÑ Í≥®ÎùºÎ≥¥ÏÑ∏Ïöî!</p>
                    </div>
                    
                    <!-- ÏÑ†ÌÉùÏßÄ -->
                    <div class="choices-grid" id="choicesGrid">
                        <!-- JavaScriptÎ°ú ÏÉùÏÑ± -->
                    </div>
                    
                    <!-- ÎÇ¥ÎπÑÍ≤åÏù¥ÏÖò -->
                    <div class="navigation">
                        <button class="nav-button btn-prev" id="prevButton" onclick="prevStep()">
                            ‚¨ÖÔ∏è Ïù¥Ï†Ñ Îã®Í≥Ñ
                        </button>
                        
                        <div class="progress-info">
                            <div class="progress-text" id="progressText">1 / 4 Îã®Í≥Ñ</div>
                            <div class="progress-stars" id="progressStars">üåü‚≠ê‚≠ê‚≠ê</div>
                        </div>
                        
                        <button class="nav-button btn-next" id="nextButton" onclick="nextStep()">
                            Îã§Ïùå Îã®Í≥Ñ üöÄ
                        </button>
                    </div>
                    
                    <!-- ÎèÑÏõÄÎßê -->
                    <div class="help-text">
                        <div class="help-card">
                            <div class="help-title">üí° ÎßàÎ≤ïÏÇ¨Ïùò Ï°∞Ïñ∏:</div>
                            <div class="help-desc">Í∞Å Îã®Í≥ÑÏóêÏÑú ÎßàÏùåÏóê ÎìúÎäî ÏÑ†ÌÉùÏßÄÎ•º Í≥®ÎùºÏ£ºÏÑ∏Ïöî! Î™®Îì† ÏÑ†ÌÉùÏù¥ ÏôÑÎ£åÎêòÎ©¥ Ïó¨Îü¨Î∂ÑÎßåÏùò ÌôòÏÉÅÏ†ÅÏù∏ ÏùåÏïÖÍ∑π ÏãúÎÇòÎ¶¨Ïò§Í∞Ä ÏôÑÏÑ±Îê©ÎãàÎã§! üé™‚ú®</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Í≤∞Í≥º ÌôîÎ©¥ -->
    <div id="resultScreen" class="bg-result hidden">
        <!-- Î≥µÏÇ¨ ÏïåÎ¶º -->
        <div id="copyAlert" class="copy-alert hidden">
            ‚úÖ <span>Î≥µÏÇ¨ ÏôÑÎ£å! üéâ</span>
        </div>
        
        <!-- Î∞∞Í≤Ω Ïû•Ïãù -->
        <div class="bg-decoration decoration-1">‚≠ê</div>
        <div class="bg-decoration decoration-2">üåü</div>
        <div class="bg-decoration decoration-3">‚ú®</div>
        <div class="bg-decoration decoration-4">üí´</div>
        
        <div class="container">
            <div class="card">
                <div class="header">
                    <div class="header-content">
                        <h1 class="title">
                            <span>üëë</span>
                            <span id="storyTitle">ÏùåÏïÖÍ∑π Ï†úÎ™©</span>
                            <span>‚ú®</span>
                        </h1>
                        <p class="subtitle" id="storyDuration">‚ú® Ï¥ù ÏÉÅÏòÅÏãúÍ∞Ñ: ÏïΩ 9Î∂Ñ 20Ï¥à ‚ú®</p>
                        <button class="nav-button btn-next" onclick="restart()" style="margin-top: 1rem;">
                            üîÑ ÏÉàÎ°úÏö¥ Î™®Ìóò! üé™
                        </button>
                    </div>
                </div>
                
                <div class="result-container">
                    <!-- Ïñ∏Ïñ¥ ÏÑ†ÌÉù -->
                    <div class="language-selector">
                        <div class="language-buttons">
                            <button class="language-btn active" id="koreanBtn" onclick="setLanguage('korean')">
                                üá∞üá∑ ÌïúÍµ≠Ïñ¥
                            </button>
                            <button class="language-btn" id="englishBtn" onclick="setLanguage('english')">
                                üá∫üá∏ English
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ïä§ÌÜ†Î¶¨ ÏöîÏïΩ -->
                    <div class="story-summary" id="storySummary">
                        <!-- JavaScriptÎ°ú ÏÉùÏÑ± -->
                    </div>
                    
                    <!-- Ïû•Î©¥Îì§ -->
                    <div id="scenesContainer">
                        <!-- JavaScriptÎ°ú ÏÉùÏÑ± -->
                    </div>
                    
                    <!-- ÌåÅ ÏÑπÏÖò -->
                    <div class="tips-section">
                        <h3 class="tips-title">
                            <span>‚≠ê</span>
                            üé¨ ÎßàÎ≤ï Í∞ôÏùÄ Ïó∞Ï∂ú ÏïÑÏù¥ÎîîÏñ¥! ‚ú®
                        </h3>
                        <div class="tips-grid">
                            <div class="tip-card">
                                <h4 class="tip-title">üé≠ ÌôòÏÉÅÏ†ÅÏù∏ Í≥µÏó∞ ÌåÅ:</h4>
                                <ul class="tip-list">
                                    <li>‚Ä¢ üé§ Í∞Å Ïû•Î©¥ÎßàÎã§ Îã§Î•∏ ÏπúÍµ¨Í∞Ä ÎÇ¥Î†àÏù¥ÌÑ∞ ÎêòÍ∏∞</li>
                                    <li>‚Ä¢ üï∫ ÏùåÏïÖÏóê ÎßûÏ∂∞ Î™∏ÏßìÏúºÎ°ú Í∞êÏ†ï ÌëúÌòÑÌïòÍ∏∞</li>
                                    <li>‚Ä¢ üé® Ï∫êÎ¶≠ÌÑ∞ Í∞ÄÎ©¥Ïù¥ÎÇò ÏÜåÌíà ÎßåÎì§Í∏∞</li>
                                    <li>‚Ä¢ üì± ÌÉúÎ∏îÎ¶øÏúºÎ°ú Î∞∞Í≤Ω Ïù¥ÎØ∏ÏßÄ Î≥¥Ïó¨Ï£ºÍ∏∞</li>
                                </ul>
                            </div>
                            <div class="tip-card">
                                <h4 class="tip-title">üìö ÍµêÏã§ÏóêÏÑú ÌôúÏö©ÌïòÍ∏∞:</h4>
                                <ul class="tip-list">
                                    <li>‚Ä¢ ‚úçÔ∏è Íµ≠Ïñ¥: Ïä§ÌÜ†Î¶¨ Ïù¥Ïñ¥Ïì∞Í∏∞ ÌôúÎèô</li>
                                    <li>‚Ä¢ üéµ ÏùåÏïÖ: Î¶¨Îì¨Í≥º Î©úÎ°úÎîî Î∞∞Ïö∞Í∏∞</li>
                                    <li>‚Ä¢ üé® ÎØ∏Ïà†: Ï∫êÎ¶≠ÌÑ∞ÏôÄ Î∞∞Í≤Ω Í∑∏Î¶¨Í∏∞</li>
                                    <li>‚Ä¢ üí¨ ÎèÑÎçï: Î¨∏Ï†úÌï¥Í≤∞ Î∞©Î≤ï ÌÜ†Î°†ÌïòÍ∏∞</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem;">
                        <div style="background: linear-gradient(135deg, #10b981, #06b6d4); color: white; padding: 1.5rem; border-radius: 1rem; display: inline-block; border: 4px solid white; box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);">
                            <p style="font-weight: bold; font-size: 1.25rem; margin-bottom: 0.5rem;">üéµ Ïù¥Ï†ú ÏßÑÏßú ÎßàÎ≤ïÏù¥ ÏãúÏûëÎê©ÎãàÎã§! ‚ú®</p>
                            <p>ÏúÑÏùò ÎßàÎ≤ï Ï£ºÎ¨∏ÏùÑ Suno AIÏóê ÏûÖÎ†•ÌïòÎ©¥ ÎÜÄÎùºÏö¥ ÏùåÏïÖÏù¥ ÏôÑÏÑ±ÎèºÏöî! üé≠</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Îç∞Ïù¥ÌÑ∞
        const characters = [
            { id: 'unicorn', name: 'ü¶Ñ Î∞òÏßùÏù¥ Ïú†ÎãàÏΩò', personality: 'Ïã†ÎπÑÎ°≠Í≥† ÏàúÏàòÌïú', voice: 'ÎßëÍ≥† Í≥†Ïö¥', voiceEn: 'clear and beautiful', personalityEn: 'mysterious and pure', color: 'linear-gradient(135deg, #ec4899, #8b5cf6)' },
            { id: 'dragon', name: 'üê≤ Ïö©Í∞êÌïú ÎìúÎûòÍ≥§', personality: 'Í∞ïÌïòÏßÄÎßå ÏπúÏ†àÌïú', voice: 'ÏõÖÏû•ÌïòÍ≥† ÍπäÏùÄ', voiceEn: 'majestic and deep', personalityEn: 'strong but kind', color: 'linear-gradient(135deg, #ef4444, #f97316)' },
            { id: 'robot', name: 'ü§ñ Í∑ÄÏó¨Ïö¥ Î°úÎ¥á', personality: 'ÎòëÎòëÌïòÍ≥† Ïû¨ÎØ∏ÏûàÎäî', voice: 'ÎØ∏ÎûòÏ†ÅÏù¥Í≥† Ïã†ÎÇòÎäî', voiceEn: 'futuristic and exciting', personalityEn: 'smart and fun', color: 'linear-gradient(135deg, #3b82f6, #06b6d4)' },
            { id: 'cat', name: 'üê± ÎßàÎ≤ïÏÇ¨ Í≥†ÏñëÏù¥', personality: 'ÏòÅÎ¶¨ÌïòÍ≥† Ïû•ÎÇúÍ∏∞ ÎßéÏùÄ', voice: 'ÏÇ¨ÎûëÏä§ÎüΩÍ≥† Îß§Î†•Ï†ÅÏù∏', voiceEn: 'lovely and charming', personalityEn: 'clever and playful', color: 'linear-gradient(135deg, #fbbf24, #ec4899)' },
            { id: 'fairy', name: 'üßö‚Äç‚ôÄÔ∏è Ïà≤ÏÜç ÏöîÏ†ï', personality: 'ÏûêÏó∞ÏùÑ ÏÇ¨ÎûëÌïòÎäî', voice: 'ÏùÄÏùÄÌïòÍ≥† Ïã†ÎπÑÎ°úÏö¥', voiceEn: 'gentle and mystical', personalityEn: 'nature-loving', color: 'linear-gradient(135deg, #10b981, #059669)' },
            { id: 'pirate', name: 'üè¥‚Äç‚ò†Ô∏è Ï∞©Ìïú Ìï¥Ï†Å', personality: 'Î™®ÌóòÏùÑ Ï¢ãÏïÑÌïòÎäî', voice: 'ÌôúÍ∏∞Ï∞®Í≥† ÎãπÎãπÌïú', voiceEn: 'energetic and confident', personalityEn: 'adventure-loving', color: 'linear-gradient(135deg, #f59e0b, #ef4444)' },
            { id: 'hamburger', name: 'üçî Ï∂§Ï∂îÎäî ÌñÑÎ≤ÑÍ±∞', personality: 'Ïú†ÏæåÌïòÍ≥† ÎßõÏûàÎäî', voice: 'Î∞îÏÇ≠Î∞îÏÇ≠ Ïã†ÎÇòÎäî', voiceEn: 'crispy and exciting', personalityEn: 'cheerful and delicious', color: 'linear-gradient(135deg, #fbbf24, #f97316)' },
            { id: 'penguin', name: 'üêß ÏÑ†Í∏ÄÎùºÏä§ Ìé≠Í∑Ñ', personality: 'Ïø®ÌïòÍ≥† Î©ãÏßÑ', voice: 'ÏãúÏõêÌïòÍ≥† ÏÑ∏Î†®Îêú', voiceEn: 'cool and sophisticated', personalityEn: 'cool and stylish', color: 'linear-gradient(135deg, #3b82f6, #6366f1)' },
            { id: 'potato', name: 'ü•î ÎßàÎ≤ï Í∞êÏûê', personality: 'ÏóâÎö±ÌïòÍ≥† Ïû¨ÎØ∏ÏûàÎäî', voice: 'Ìè¨Í∑ºÌïòÍ≥† Îî∞ÎúªÌïú', voiceEn: 'cozy and warm', personalityEn: 'quirky and funny', color: 'linear-gradient(135deg, #f59e0b, #fbbf24)' },
            { id: 'superhero_dog', name: 'ü¶∏‚Äç‚ôÇÔ∏èüêï ÏäàÌçº Í∞ïÏïÑÏßÄ', personality: 'Ïö©Í∞êÌïòÍ≥† Ï∂©ÏÑ±Ïä§Îü¨Ïö¥', voice: 'ÏòÅÏõÖÏ†ÅÏù¥Í≥† ÌûòÏ∞¨', voiceEn: 'heroic and powerful', personalityEn: 'brave and loyal', color: 'linear-gradient(135deg, #ef4444, #3b82f6)' },
            { id: 'alien_chef', name: 'üëΩüë®‚Äçüç≥ ÏöîÎ¶¨ÌïòÎäî Ïô∏Í≥ÑÏù∏', personality: 'Ï∞ΩÏùòÏ†ÅÏù¥Í≥† Ïã†Í∏∞Ìïú', voice: 'Ïö∞Ï£ºÏ†ÅÏù¥Í≥† ÎèÖÌäπÌïú', voiceEn: 'cosmic and unique', personalityEn: 'creative and mysterious', color: 'linear-gradient(135deg, #10b981, #8b5cf6)' },
            { id: 'singing_tree', name: 'üå≥üéµ ÎÖ∏ÎûòÌïòÎäî ÎÇòÎ¨¥', personality: 'ÌèâÌôîÎ°≠Í≥† ÏßÄÌòúÎ°úÏö¥', voice: 'ÏûêÏó∞Ïä§ÎüΩÍ≥† Ï°∞ÌôîÎ°úÏö¥', voiceEn: 'natural and harmonious', personalityEn: 'peaceful and wise', color: 'linear-gradient(135deg, #10b981, #92400e)' }
        ];

        const settings = [
            { id: 'magic_forest', name: '‚ú® ÎßàÎ≤ïÏùò Ïà≤', mood: 'Ïã†ÎπÑÎ°≠Í≥† ÌèâÌôîÎ°úÏö¥', moodEn: 'mysterious and peaceful', sounds: 'ÏÉàÏÜåÎ¶¨, Î∞îÎûåÏÜåÎ¶¨', soundsEn: 'bird songs, wind sounds', color: 'linear-gradient(135deg, #10b981, #059669)', emoji: 'üå≤üçÑ‚ú®' },
            { id: 'space', name: 'üöÄ Ïö∞Ï£º Ï†ïÍ±∞Ïû•', mood: 'ÎØ∏ÎûòÏ†ÅÏù¥Í≥† ÏõÖÏû•Ìïú', moodEn: 'futuristic and majestic', sounds: 'Ïö∞Ï£º ÏùåÌñ•, Ïã†ÎîîÏÇ¨Ïù¥Ï†Ä', soundsEn: 'space sounds, synthesizer', color: 'linear-gradient(135deg, #6366f1, #8b5cf6)', emoji: 'üåå‚≠êüõ∏' },
            { id: 'underwater', name: 'üåä Î∞îÎã§ ÏÜç ÏôïÍµ≠', mood: 'Î™ΩÌôòÏ†ÅÏù¥Í≥† ÏûîÏûîÌïú', moodEn: 'dreamy and calm', sounds: 'ÌååÎèÑÏÜåÎ¶¨, Î¨ºÎ∞©Ïö∏', soundsEn: 'wave sounds, water drops', color: 'linear-gradient(135deg, #06b6d4, #3b82f6)', emoji: 'üê†üè∞üíé' },
            { id: 'sky_castle', name: '‚òÅÔ∏è Íµ¨Î¶Ñ ÏúÑ ÏÑ±', mood: 'ÍøàÍ∞ôÍ≥† ÌôòÏÉÅÏ†ÅÏù∏', moodEn: 'dreamlike and fantastic', sounds: 'Î∞îÎûåÏÜåÎ¶¨, ÌïòÌîÑ', soundsEn: 'wind sounds, harp', color: 'linear-gradient(135deg, #0ea5e9, #6366f1)', emoji: 'üè∞‚òÅÔ∏èüåà' },
            { id: 'candy_land', name: 'üç≠ ÏÇ¨ÌÉïÎÇòÎùº', mood: 'Îã¨ÏΩ§ÌïòÍ≥† Ï¶êÍ±∞Ïö¥', moodEn: 'sweet and joyful', sounds: 'ÌåùÏΩò ÌÑ∞ÏßÄÎäî ÏÜåÎ¶¨', soundsEn: 'popcorn popping sounds', color: 'linear-gradient(135deg, #ec4899, #f43f5e)', emoji: 'üç≠üßÅüç∞' },
            { id: 'school', name: 'üè´ Ïö∞Î¶¨ ÌïôÍµê', mood: 'ÏπúÍ∑ºÌïòÍ≥† ÌôúÍ∏∞Ï∞¨', moodEn: 'friendly and lively', sounds: 'ÏïÑÏù¥Îì§ ÏõÉÏùåÏÜåÎ¶¨', soundsEn: 'children laughing', color: 'linear-gradient(135deg, #f97316, #fbbf24)', emoji: 'üìö‚úèÔ∏èüéí' }
        ];

        const conflicts = [
            { id: 'lost_friend', name: 'üíî ÏûÉÏñ¥Î≤ÑÎ¶∞ ÏπúÍµ¨ Ï∞æÍ∏∞', emotion: 'Í∑∏Î¶¨Ïö¥', emotionEn: 'longing', resolution: 'Í∞êÎèôÏ†ÅÏù∏ Ïû¨Ìöå', resolutionEn: 'touching reunion', color: 'linear-gradient(135deg, #a855f7, #ec4899)' },
            { id: 'evil_wizard', name: 'üßô‚Äç‚ôÇÔ∏è ÎÇòÏÅú ÎßàÎ≤ïÏÇ¨ÏôÄÏùò ÎåÄÍ≤∞', emotion: 'Ïö©Í∞êÌïú', emotionEn: 'brave', resolution: 'ÏÑ†Ïù¥ ÏïÖÏùÑ Ïù¥Í∏∞Îäî', resolutionEn: 'good triumphs over evil', color: 'linear-gradient(135deg, #ef4444, #f97316)' },
            { id: 'lost_treasure', name: 'üíé ÏÇ¨ÎùºÏßÑ Î≥¥Î¨ºÏùò ÎπÑÎ∞Ä', emotion: 'Ïã†ÎÇòÎäî', emotionEn: 'exciting', resolution: 'Î™®ÌóòÏùò ÏôÑÏÑ±', resolutionEn: 'adventure completion', color: 'linear-gradient(135deg, #fbbf24, #f59e0b)' },
            { id: 'broken_magic', name: '‚ö° Í≥†Ïû•ÎÇú ÎßàÎ≤ï Í≥†ÏπòÍ∏∞', emotion: 'ÏïàÌÉÄÍπåÏö¥', emotionEn: 'sorrowful', resolution: 'ÌòëÎ†•ÏúºÎ°ú Ìï¥Í≤∞', resolutionEn: 'solved through cooperation', color: 'linear-gradient(135deg, #3b82f6, #6366f1)' },
            { id: 'new_world', name: 'üåü ÏÉàÎ°úÏö¥ ÏÑ∏Í≥Ñ ÌÉêÌóò', emotion: 'ÏÑ§Î†àÎäî', emotionEn: 'thrilling', resolution: 'ÍøàÏùò Ïã§ÌòÑ', resolutionEn: 'dream realization', color: 'linear-gradient(135deg, #059669, #0891b2)' },
            { id: 'friendship', name: 'ü§ù ÏÑúÎ°ú Îã§Î•∏ ÏπúÍµ¨Îì§Ïùò Ïö∞Ï†ï', emotion: 'Îî∞ÎúªÌïú', emotionEn: 'warm', resolution: 'ÏßÑÏ†ïÌïú Ïö∞Ï†ï', resolutionEn: 'true friendship', color: 'linear-gradient(135deg, #f43f5e, #ec4899)' }
        ];

        const musicStyles = [
            { id: 'orchestral', name: 'üéº Ïò§ÏºÄÏä§Ìä∏Îùº', description: 'ÏõÖÏû•ÌïòÍ≥† ÌÅ¥ÎûòÏãùÌïú', color: 'linear-gradient(135deg, #7c3aed, #8b5cf6)' },
            { id: 'electronic', name: 'üéπ ÏùºÎ†âÌä∏Î°úÎãâ', description: 'ÎØ∏ÎûòÏ†ÅÏù¥Í≥† Ïã†ÎÇòÎäî', color: 'linear-gradient(135deg, #06b6d4, #3b82f6)' },
            { id: 'folk', name: 'üé∏ Ìè¨ÌÅ¨', description: 'Îî∞ÎúªÌïòÍ≥† ÏûêÏó∞Ïä§Îü¨Ïö¥', color: 'linear-gradient(135deg, #f59e0b, #f97316)' },
            { id: 'jazz', name: 'üé∑ Ïû¨Ï¶à', description: 'ÏÑ∏Î†®ÎêòÍ≥† Î∂ÄÎìúÎü¨Ïö¥', color: 'linear-gradient(135deg, #059669, #10b981)' },
            { id: 'pop', name: 'üé§ Ìåù', description: 'Î∞ùÍ≥† Ï§ëÎèÖÏÑ± ÏûàÎäî', color: 'linear-gradient(135deg, #ec4899, #f43f5e)' },
            { id: 'ambient', name: 'üåô Ïï∞ÎπÑÏñ∏Ìä∏', description: 'Î™ΩÌôòÏ†ÅÏù¥Í≥† ÌèâÌôîÎ°úÏö¥', color: 'linear-gradient(135deg, #6366f1, #8b5cf6)' }
        ];

        const steps = [
            { title: 'Ï£ºÏù∏Í≥µ ÏÑ†ÌÉùÌïòÍ∏∞', description: 'Ïù¥ÏïºÍ∏∞Ïùò Ï£ºÏù∏Í≥µÏùÑ Í≥®ÎùºÎ≥¥ÏÑ∏Ïöî!', emoji: 'ü¶∏‚Äç‚ôÄÔ∏è' },
            { title: 'Î∞∞Í≤Ω ÏÑ§Ï†ïÌïòÍ∏∞', description: 'Î™®ÌóòÏù¥ ÌéºÏ≥êÏßà Î¨¥ÎåÄÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!', emoji: 'üè∞' },
            { title: 'Í∞àÎì± ÏÉÅÌô© ÎßåÎì§Í∏∞', description: 'Ïñ¥Îñ§ Î¨∏Ï†úÍ∞Ä ÏùºÏñ¥ÎÇ†ÍπåÏöî?', emoji: '‚ö°' },
            { title: 'ÏùåÏïÖ Ïä§ÌÉÄÏùº Ï†ïÌïòÍ∏∞', description: 'Ïñ¥Îñ§ Î∂ÑÏúÑÍ∏∞Ïùò ÏùåÏïÖÏùÑ ÏõêÌïòÏÑ∏Ïöî?', emoji: 'üéµ' }
        ];

        // ÏÉÅÌÉú
        let currentStep = 0;
        let selectedChoices = {};
        let currentLanguage = 'korean';
        let generatedStory = null;

        // Ï¥àÍ∏∞Ìôî
        function init() {
            updateProgressBar();
            updateStepInfo();
            renderChoices();
            updateNavigation();
        }

        // ÏßÑÌñâ Î∞î ÏóÖÎç∞Ïù¥Ìä∏
        function updateProgressBar() {
            const progressBar = document.getElementById('progressBar');
            progressBar.innerHTML = '';

            for (let i = 0; i < steps.length; i++) {
                // Ïä§ÌÖù
                const stepEl = document.createElement('div');
                stepEl.className = `progress-step ${i <= currentStep ? 'active' : 'inactive'}`;
                stepEl.textContent = i <= currentStep ? steps[i].emoji : i + 1;
                progressBar.appendChild(stepEl);

                // Ïó∞Í≤∞ÏÑ†
                if (i < steps.length - 1) {
                    const lineEl = document.createElement('div');
                    lineEl.className = `progress-line ${i < currentStep ? 'completed' : 'incomplete'}`;
                    progressBar.appendChild(lineEl);
                }
            }
        }

        // Îã®Í≥Ñ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏
        function updateStepInfo() {
            document.getElementById('stepTitle').textContent = `${steps[currentStep].emoji} ${steps[currentStep].title}`;
            document.getElementById('stepDesc').textContent = steps[currentStep].description;
            document.getElementById('progressText').textContent = `${currentStep + 1} / ${steps.length} Îã®Í≥Ñ`;
            document.getElementById('progressStars').textContent = 'üåü'.repeat(currentStep + 1) + '‚≠ê'.repeat(steps.length - currentStep - 1);
        }

        // ÏÑ†ÌÉùÏßÄ Î†åÎçîÎßÅ
        function renderChoices() {
            const grid = document.getElementById('choicesGrid');
            const gridClasses = ['grid-characters', 'grid-settings', 'grid-conflicts', 'grid-styles'];
            grid.className = `choices-grid ${gridClasses[currentStep]}`;
            grid.innerHTML = '';

            let choices = [];
            let selectedKey = '';

            switch (currentStep) {
                case 0:
                    choices = characters;
                    selectedKey = 'character';
                    break;
                case 1:
                    choices = settings;
                    selectedKey = 'setting';
                    break;
                case 2:
                    choices = conflicts;
                    selectedKey = 'conflict';
                    break;
                case 3:
                    choices = musicStyles;
                    selectedKey = 'style';
                    break;
            }

            choices.forEach(choice => {
                const card = document.createElement('div');
                card.className = `choice-card ${selectedChoices[selectedKey] === choice.id ? 'selected' : ''}`;
                card.onclick = () => selectChoice(selectedKey, choice.id);

                if (selectedChoices[selectedKey] === choice.id) {
                    card.style.background = choice.color;
                }

                let emoji = '';
                let name = '';
                let desc = '';
                let extra = '';

                if (currentStep === 0) { // Ï∫êÎ¶≠ÌÑ∞
                    emoji = choice.name.split(' ')[0];
                    name = choice.name.split(' ').slice(1).join(' ');
                    desc = choice.personality;
                    extra = `Î™©ÏÜåÎ¶¨: ${choice.voice}`;
                } else if (currentStep === 1) { // Î∞∞Í≤Ω
                    emoji = choice.emoji;
                    name = choice.name;
                    desc = choice.mood;
                    extra = `ÏÜåÎ¶¨: ${choice.sounds}`;
                } else if (currentStep === 2) { // Í∞àÎì±
                    name = choice.name;
                    desc = `Í∞êÏ†ï: ${choice.emotion}`;
                    extra = `Í≤∞Îßê: ${choice.resolution}`;
                } else if (currentStep === 3) { // ÏùåÏïÖ
                    emoji = choice.name.split(' ')[0];
                    name = choice.name.split(' ').slice(1).join(' ');
                    desc = choice.description;
                }

                card.innerHTML = `
                    ${emoji ? `<div class="choice-emoji">${emoji}</div>` : ''}
                    <div class="choice-name">${name}</div>
                    <div class="choice-desc">${desc}</div>
                    ${extra ? `<div class="choice-extra">${extra}</div>` : ''}
                `;

                grid.appendChild(card);
            });
        }

        // ÏÑ†ÌÉù
        function selectChoice(key, value) {
            selectedChoices[key] = value;
            renderChoices();
            updateNavigation();
        }

        // ÎÇ¥ÎπÑÍ≤åÏù¥ÏÖò ÏóÖÎç∞Ïù¥Ìä∏
        function updateNavigation() {
            const prevBtn = document.getElementById('prevButton');
            const nextBtn = document.getElementById('nextButton');

            prevBtn.disabled = currentStep === 0;
            
            const canProceed = canGoNext();
            nextBtn.disabled = !canProceed;
            
            if (currentStep === steps.length - 1) {
                nextBtn.innerHTML = '<span>‚ú®</span> üé≠ ÎßàÎ≤ï Ïä§ÌÜ†Î¶¨ ÏôÑÏÑ±! ‚ú®';
            } else {
                nextBtn.innerHTML = 'Îã§Ïùå Îã®Í≥Ñ üöÄ';
            }
        }

        // Îã§Ïùå Îã®Í≥ÑÎ°ú Í∞à Ïàò ÏûàÎäîÏßÄ ÌôïÏù∏
        function canGoNext() {
            switch (currentStep) {
                case 0: return selectedChoices.character;
                case 1: return selectedChoices.setting;
                case 2: return selectedChoices.conflict;
                case 3: return selectedChoices.style;
                default: return false;
            }
        }

        // Ïù¥Ï†Ñ Îã®Í≥Ñ
        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                updateProgressBar();
                updateStepInfo();
                renderChoices();
                updateNavigation();
            }
        }

        // Îã§Ïùå Îã®Í≥Ñ
        function nextStep() {
            if (!canGoNext()) return;

            if (currentStep < steps.length - 1) {
                currentStep++;
                updateProgressBar();
                updateStepInfo();
                renderChoices();
                updateNavigation();
            } else {
                generateStory();
            }
        }

        // Ïä§ÌÜ†Î¶¨ ÏÉùÏÑ±
        function generateStory() {
            const character = characters.find(c => c.id === selectedChoices.character);
            const setting = settings.find(s => s.id === selectedChoices.setting);
            const conflict = conflicts.find(c => c.id === selectedChoices.conflict);
            const style = musicStyles.find(s => s.id === selectedChoices.style);

            generatedStory = {
                title: `${character.name}Ïùò ${conflict.name} ÎåÄÎ™®Ìóò`,
                character,
                setting,
                conflict,
                style,
                scenes: [
                    {
                        title: 'üåÖ ÌîÑÎ°§Î°úÍ∑∏ - ÌèâÌôîÎ°úÏö¥ ÏãúÏûë',
                        description: `${setting.name}ÏóêÏÑú ÌèâÌôîÎ°≠Í≤å ÏßÄÎÇ¥Îçò ${character.name}Ïùò ÏùºÏÉÅ`,
                        mood: 'üåà ÌèâÌôîÎ°úÏö¥',
                        duration: '1Î∂Ñ 20Ï¥à',
                        color: 'linear-gradient(135deg, #10b981, #3b82f6)',
                        promptKo: `${setting.mood} Î∂ÑÏúÑÍ∏∞Ïùò ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} ÏùåÏïÖ, ${setting.sounds}Í∞Ä Ïñ¥Ïö∞Îü¨ÏßÑ ÌèâÌôîÎ°úÏö¥ Ïò§ÌîÑÎãù ÌÖåÎßà, ${character.voice} Î™©ÏÜåÎ¶¨Î°ú ÌïòÎ£®Î•º ÏãúÏûëÌïòÎäî Ìù¨ÎßùÏ∞¨ Î©úÎ°úÎîî`,
                        promptEn: `Peaceful opening theme with ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} music featuring ${setting.soundsEn}, ${character.voiceEn} vocals expressing hopeful melodies for a new day in ${setting.moodEn} atmosphere`
                    },
                    {
                        title: '‚ö° ÏÇ¨Í±¥ Î∞úÏÉù - Î¨∏Ï†úÏùò ÏãúÏûë',
                        description: `Í∞ëÏûêÍ∏∞ ${conflict.name}Ïù¥ ÏùºÏñ¥ÎÇòÎ©¥ÏÑú ÏãúÏûëÎêòÎäî Î™®Ìóò`,
                        mood: 'üò∞ Í∏¥Ïû•Í∞ê',
                        duration: '1Î∂Ñ 30Ï¥à',
                        color: 'linear-gradient(135deg, #ef4444, #f97316)',
                        promptKo: `Í∏¥Ïû•Í∞ê ÎÑòÏπòÎäî ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} ÏùåÏïÖ, ${conflict.emotion} Í∞êÏ†ïÏùÑ ÌëúÌòÑÌïòÎäî Í∑πÏ†ÅÏù∏ Ï†ÑÍ∞ú, Î¨∏Ï†ú ÏÉÅÌô©Ïùò Ïã¨Í∞ÅÏÑ±ÏùÑ ÎÇòÌÉÄÎÇ¥Îäî Î≥ÄÌôîÎ¨¥ÏåçÌïú Î¶¨Îì¨`,
                        promptEn: `Dramatic ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} music with tension, expressing ${conflict.emotionEn} emotions through dynamic development, unpredictable rhythms showing the seriousness of the crisis`
                    },
                    {
                        title: 'üèÉ‚Äç‚ôÄÔ∏è Î™®Ìóò ÏãúÏûë - Ïö©Í∏∞Ïùò Î∞úÍ±∏Ïùå',
                        description: `${character.personality} ${character.name}Ïù¥ Î¨∏Ï†ú Ìï¥Í≤∞ÏùÑ ÏúÑÌï¥ Îñ†ÎÇòÎäî Ïó¨Ìñâ`,
                        mood: 'üí™ Ïö©Í∞êÌïú',
                        duration: '2Î∂Ñ',
                        color: 'linear-gradient(135deg, #fbbf24, #f97316)',
                        promptKo: `${character.personality} ÏÑ±Í≤©ÏùÑ ÌëúÌòÑÌïòÎäî Î™®ÌóòÏùò ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} ÌñâÏßÑÍ≥°, Ïö©Í∏∞ÏôÄ Í≤∞Îã®Î†•Ïù¥ Îã¥Í∏¥ ÌûòÏ∞¨ Î©úÎ°úÎîî, ${setting.sounds}Í∞Ä Î∞∞Í≤ΩÏóê ÍπîÎ¶∞ ÏõÖÏû•Ìïú Ïó¨Ìñâ ÌÖåÎßà`,
                        promptEn: `Adventure march in ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} style expressing ${character.personalityEn} character, powerful melodies filled with courage and determination, epic journey theme with ${setting.soundsEn} in background`
                    },
                    {
                        title: 'üåü ÌÅ¥ÎùºÏù¥Îß•Ïä§ - Í∞ÄÏû• Ïñ¥Î†§Ïö¥ ÏàúÍ∞Ñ',
                        description: `ÏµúÎåÄÏùò ÏúÑÍ∏∞ ÏÉÅÌô©ÏóêÏÑú ${character.name}Ïù¥ Î≥¥Ïó¨Ï£ºÎäî ÏßÑÏ†ïÌïú Ïö©Í∏∞`,
                        mood: 'üî• Ï†àÏ†ïÏùò Í∏¥Ïû•',
                        duration: '2Î∂Ñ 30Ï¥à',
                        color: 'linear-gradient(135deg, #8b5cf6, #ec4899)',
                        promptKo: `Ï†àÏ†ïÏùò Í∏¥Ïû•Í∞êÏù¥ Îã¥Í∏¥ ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} ÎåÄÍ≤∞ ÏùåÏïÖ, Î™®Îì† ÏïÖÍ∏∞Í∞Ä ÌûòÏùÑ Ìï©Ï≥ê ÎßåÎìúÎäî ÏõÖÏû•Ìïú ÌÅ¥ÎùºÏù¥Îß•Ïä§, ${character.voice} Î™©ÏÜåÎ¶¨Í∞Ä Ï†àÍ∑úÌïòÎäî Í∞êÎèôÏ†ÅÏù∏ ÏàúÍ∞Ñ`,
                        promptEn: `Epic climax battle music in ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} style with peak tension, all instruments combining for a majestic climax, emotional moment with ${character.voiceEn} vocals crying out with passion`
                    },
                    {
                        title: 'üéâ Ìï¥Í≤∞Í≥º Í∏∞ÏÅ® - ÌñâÎ≥µÌïú Í≤∞Îßê',
                        description: `${conflict.resolution}ÏúºÎ°ú Î™®Îì† Í≤ÉÏù¥ Ìï¥Í≤∞ÎêòÎäî Í∞êÎèôÏ†ÅÏù∏ ÏàúÍ∞Ñ`,
                        mood: 'üåà Í∏∞ÏÅ®Í≥º Í∞êÎèô',
                        duration: '2Î∂Ñ',
                        color: 'linear-gradient(135deg, #059669, #06b6d4)',
                        promptKo: `${conflict.resolution}Ïùò Í∏∞ÏÅ®ÏùÑ ÌëúÌòÑÌïòÎäî ÌôòÏÉÅÏ†ÅÏù∏ ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} Ï∂ïÏ†ú ÏùåÏïÖ, Î™®Îì† Îì±Ïû•Ïù∏Î¨ºÏù¥ Ìï®Íªò Î∂ÄÎ•¥Îäî Ìï©Ï∞Ω, Ìï¥ÌîºÏóîÎî©Ïùò Îî∞ÎúªÌïú Í∞êÎèôÏù¥ Îã¥Í∏¥ ÌîºÎÇ†Î†à`,
                        promptEn: `Fantastic celebratory ${style.description} ${style.name.replace(/üéº|üéπ|üé∏|üé∑|üé§|üåô/g, '')} music expressing joy of ${conflict.resolutionEn}, chorus sung by all characters together, warm and touching finale with happy ending emotions`
                    }
                ]
            };

            showResult();
        }

        // Í≤∞Í≥º ÌôîÎ©¥ ÌëúÏãú
        function showResult() {
            document.getElementById('mainScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.remove('hidden');

            document.getElementById('storyTitle').textContent = generatedStory.title;
            
            renderStorySummary();
            renderScenes();
        }

        // Ïä§ÌÜ†Î¶¨ ÏöîÏïΩ Î†åÎçîÎßÅ
        function renderStorySummary() {
            const summary = document.getElementById('storySummary');
            summary.innerHTML = `
                <div class="summary-card" style="background: ${generatedStory.character.color};">
                    <div style="font-size: 1.25rem; margin-bottom: 0.5rem;">${generatedStory.character.name}</div>
                    <div style="font-size: 0.75rem; opacity: 0.9;">‚ú® Ï£ºÏù∏Í≥µ ‚ú®</div>
                </div>
                <div class="summary-card" style="background: ${generatedStory.setting.color};">
                    <div style="font-size: 1rem; margin-bottom: 0.5rem;">${generatedStory.setting.name}</div>
                    <div style="font-size: 0.75rem; opacity: 0.9;">üè∞ Î∞∞Í≤Ω üè∞</div>
                </div>
                <div class="summary-card" style="background: ${generatedStory.conflict.color};">
                    <div style="font-size: 0.875rem; margin-bottom: 0.5rem;">${generatedStory.conflict.name}</div>
                    <div style="font-size: 0.75rem; opacity: 0.9;">‚ö° Í∞àÎì± ‚ö°</div>
                </div>
                <div class="summary-card" style="background: ${generatedStory.style.color};">
                    <div style="font-size: 1rem; margin-bottom: 0.5rem;">${generatedStory.style.name}</div>
                    <div style="font-size: 0.75rem; opacity: 0.9;">üéµ ÏùåÏïÖ üéµ</div>
                </div>
            `;
        }

        // Ïû•Î©¥Îì§ Î†åÎçîÎßÅ
        function renderScenes() {
            const container = document.getElementById('scenesContainer');
            container.innerHTML = '';

            generatedStory.scenes.forEach((scene, index) => {
                const sceneEl = document.createElement('div');
                sceneEl.className = 'scene-card';
                sceneEl.style.background = scene.color;

                sceneEl.innerHTML = `
                    <div class="scene-header">
                        <h3 class="scene-title">${scene.title}</h3>
                        <div class="scene-meta">
                            <span class="scene-badge">‚è±Ô∏è ${scene.duration}</span>
                            <span class="scene-badge">${scene.mood}</span>
                        </div>
                    </div>
                    <p class="scene-description">${scene.description}</p>
                    <div class="prompt-container">
                        <div class="prompt-header">
                            <span style="font-size: 1.25rem;">üéµ</span>
                            <span style="font-weight: bold;">üé≠ Suno AI ÎßàÎ≤ï Ï£ºÎ¨∏:</span>
                            <span style="font-size: 1.25rem;">‚ö°</span>
                        </div>
                        <div class="prompt-text" id="prompt-${index}">
                            "${currentLanguage === 'korean' ? scene.promptKo : scene.promptEn}"
                        </div>
                        <div class="prompt-actions">
                            <button class="action-button btn-suno" onclick="openSuno()">
                                ‚ñ∂Ô∏è üöÄ SunoÏóêÏÑú ÎßåÎì§Í∏∞!
                            </button>
                            <button class="action-button btn-copy" onclick="copyPrompt('${currentLanguage === 'korean' ? scene.promptKo : scene.promptEn}')">
                                üìã üìã ÎßàÎ≤ïÏ£ºÎ¨∏ Î≥µÏÇ¨!
                            </button>
                        </div>
                    </div>
                `;

                container.appendChild(sceneEl);
            });
        }

        // Ïñ∏Ïñ¥ ÏÑ§Ï†ï
        function setLanguage(language) {
            currentLanguage = language;
            
            document.getElementById('koreanBtn').classList.toggle('active', language === 'korean');
            document.getElementById('englishBtn').classList.toggle('active', language === 'english');
            
            renderScenes();
        }

        // ÌîÑÎ°¨ÌîÑÌä∏ Î≥µÏÇ¨
        function copyPrompt(text) {
            try {
                navigator.clipboard.writeText(text).then(() => {
                    showCopyAlert();
                });
            } catch (err) {
                // Ìè¥Î∞±
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showCopyAlert();
            }
        }

        // Î≥µÏÇ¨ ÏïåÎ¶º ÌëúÏãú
        function showCopyAlert() {
            const alert = document.getElementById('copyAlert');
            alert.classList.remove('hidden');
            setTimeout(() => {
                alert.classList.add('hidden');
            }, 3000);
        }

        // Suno Ïó¥Í∏∞
        function openSuno() {
            window.open('https://suno.com', '_blank');
        }

        // Ïû¨ÏãúÏûë
        function restart() {
            currentStep = 0;
            selectedChoices = {};
            generatedStory = null;
            currentLanguage = 'korean';
            
            document.getElementById('resultScreen').classList.add('hidden');
            document.getElementById('mainScreen').classList.remove('hidden');
            
            init();
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        window.addEventListener('load', init);
    </script>
</body>
</html>